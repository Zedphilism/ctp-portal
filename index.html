<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sistem Pemantauan Pemeriksaan</title>

  <style>
    :root{
      --bg:#0b0f14;
      --panel:#0f1620;
      --panel2:#0c121a;
      --text:#e7eef8;
      --muted:#9fb0c6;
      --line:rgba(255,255,255,.08);
      --accent:#3aa0ff;
      --good:#23c26b;
      --shadow:0 20px 60px rgba(0,0,0,.45);
      --radius:18px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(900px 520px at 20% 10%, rgba(58,160,255,.14), transparent 60%),
        radial-gradient(820px 520px at 80% 20%, rgba(35,194,107,.10), transparent 55%),
        var(--bg);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      overflow:hidden;
    }
    /* ===== subtle vignette to pull focus to center ===== */
body::before{
  content:"";
  position:fixed;
  inset:-40px;
  pointer-events:none;
  z-index:0;
  background:radial-gradient(closest-side at 50% 45%,
    rgba(0,0,0,0) 55%,
    rgba(0,0,0,.28) 100%
  );
}

/* ===== ultra subtle noise/grain overlay ===== */
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
  opacity:.035;
  background-image:
    repeating-linear-gradient(0deg,
      rgba(255,255,255,.06) 0px,
      rgba(255,255,255,.06) 1px,
      rgba(0,0,0,0) 2px,
      rgba(0,0,0,0) 4px
    );
  mix-blend-mode:overlay;
}

    /* ===== TOP RIGHT MENU (label + button) ===== */
    .menu-fab{
      position:fixed;
      top:20px;
      right:20px;
      display:flex;
      align-items:center;
      gap:10px;
      z-index:200;
      transition: transform .18s ease, opacity .18s ease;
      will-change: transform, opacity;
    }
    .menu-fab.hide{
      opacity:0;
      transform:translateY(-10px);
      pointer-events:none;
    }

    .menu-label{
      font-size:12px;
      font-weight:800;
      letter-spacing:.6px;
      color:var(--muted);
      text-transform:uppercase;
      opacity:.85;
      user-select:none;
      display:none;
    }
    @media (min-width: 860px){
      .menu-label{ display:block; }
    }

    .hamburger{
      width:46px;
      height:46px;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition: transform .18s ease, background .15s ease, border-color .15s ease;
    }
    .hamburger:hover{
      background:rgba(58,160,255,.12);
      border-color:rgba(58,160,255,.4);
      transform:translateY(-1px);
    }

    /* ===== Hamburger lines (animated to X) ===== */
    .burger{
      width:22px;
      height:18px;
      position:relative;
    }
    .burger span{
      position:absolute;
      left:0;
      right:0;
      height:3px;
      background:currentColor;
      border-radius:999px;
      transition: transform .18s ease, top .18s ease, opacity .18s ease;
    }
    .burger span:nth-child(1){ top:0; }
    .burger span:nth-child(2){ top:7.5px; }
    .burger span:nth-child(3){ top:15px; }

    .hamburger.is-open .burger span:nth-child(1){
      top:7.5px;
      transform:rotate(45deg);
    }
    .hamburger.is-open .burger span:nth-child(2){
      opacity:0;
    }
    .hamburger.is-open .burger span:nth-child(3){
      top:7.5px;
      transform:rotate(-45deg);
    }

    /* ===== MAIN CARD ===== */
    .card{
      width:min(720px,100%);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:24px;
      text-align:center;
      position:relative;
      z-index:1;
      overflow:hidden;
    }
/* ===== calm hover acknowledgement (no layout shift) ===== */
.card{
  transition: background .18s ease, border-color .18s ease;
}
.card:hover{
  border-color:rgba(58,160,255,.18);
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.025));
}


    /* ===== inner highlight for premium glass feel ===== */
.card::after{
  content:"";
  position:absolute;
  inset:1px;
  border-radius:calc(var(--radius) - 1px);
  pointer-events:none;
  background:linear-gradient(
    180deg,
    rgba(255,255,255,.10),
    rgba(255,255,255,0) 38%
  );
  opacity:.35;
}

    /* calm diagonal */
    .card::before{
      content:"";
      position:absolute;
      top:-40%;
      right:-50%;
      width:140%;
      height:70%;
      background:linear-gradient(
        135deg,
        rgba(58,160,255,.10),
        rgba(58,160,255,.04),
        transparent
      );
      transform:rotate(-6deg);
      pointer-events:none;
    }
    .card > *{
      position:relative;
      z-index:1;
    }

    .logos{
      display:flex;
      justify-content:center;
      gap:28px;
      margin-bottom:16px;
    }

    .logo{
      width:78px;
      height:78px;
      border-radius:20px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .logo img{
      width:56px;
      height:56px;
      object-fit:contain;
    }

    /* #10: typography polish */
    h1{
      margin:8px 0 6px;
      font-size:21px;
      font-weight:900;
      letter-spacing:.35px;
    }

    .subtitle{
      font-size:13px;
      color:var(--muted);
      letter-spacing:.25px;
    }

    .divider{
      width:90px;
      height:1px;
      background:var(--line);
      margin:16px auto 18px;
    }

    .desc{
      font-size:14px;
      color:var(--muted);
      line-height:1.7;
      max-width:460px;
      margin:0 auto 26px;
    }

    .actions{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
    }

    /* ===== BUTTON: FIXED LIQUID FILL (dark blue, fills whole button) ===== */
    .btn-primary{
      position:relative;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      background: var(--text);
      color: #000;
      padding:12px 24px;
      border-radius:12px;
      font-weight:900;
      font-size:14px;
      text-decoration:none;
      transition:.15s ease;
      min-width: 180px;
      overflow:hidden;
    }

    .btn-primary::before{
      content:"";
      position:absolute;
      inset:0;
      background:#0f2a44;
      transform:scaleY(0);
      transform-origin:bottom;
      transition: transform .32s cubic-bezier(.2,.8,.2,1);
      z-index:0;
    }

    .btn-primary span{
      position:relative;
      z-index:1;
    }

    .btn-primary:hover{
      transform:translateY(-1px);
      box-shadow:0 4px 12px rgba(255,255,255,.15);
      color:#fff;
    }

    .btn-primary:hover::before{
      transform:scaleY(1);
    }

    .btn-primary[aria-disabled="true"]{
      opacity:.75;
      pointer-events:none;
      transform:none;
      box-shadow:none;
    }
    .btn-primary[aria-disabled="true"]::before{
      transform:scaleY(0);
    }

    .footer{
      margin-top:18px;
      font-size:12px;
      color:var(--muted);
      opacity:.75;
      letter-spacing:.2px;
    }

    .status{
      position:absolute;
      bottom:28px;
      right:28px;
      display:flex;
      align-items:center;
      gap:8px;
      font-size:11px;
      font-weight:800;
      color:var(--muted);
      background: rgba(0,0,0,.3);
      padding:6px 10px;
      border-radius:99px;
      border:1px solid var(--line);
    }

    .dot{
      width:6px;
      height:6px;
      background:var(--good);
      border-radius:50%;
      box-shadow: 0 0 0 2px rgba(35,194,107,.12);
    }
    /* ===== rare reassurance pulse, not distracting ===== */
.dot{
  animation: dotPulse 9s ease-in-out infinite;
}
@keyframes dotPulse{
  0%, 92%, 100%{ box-shadow: 0 0 0 2px rgba(35,194,107,.12); opacity:1; }
  96%{ box-shadow: 0 0 0 6px rgba(35,194,107,.10); opacity:.92; }
}

    /* ===== DRAWER ===== */
    .drawer-backdrop{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.6);
      z-index:150;
      opacity:0;
      pointer-events:none;
      transition:.2s;
    }
    .drawer{
      position:fixed;
      top:0;
      right:0;
      height:100%;
      width:360px;
      max-width:85vw;
      background:var(--panel);
      border-left:1px solid var(--line);
      z-index:180;
      transform:translateX(100%);
      transition:.25s cubic-bezier(.2,.8,.2,1);
      display:flex;
      flex-direction:column;
    }
    .drawer.open{ transform:translateX(0); }
    .drawer-backdrop.open{ opacity:1; pointer-events:auto; }

    .d-head{
      padding:20px;
      border-bottom:1px solid var(--line);
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    .d-title{ font-weight:900; font-size:15px; }

    .d-close{
      background:none;
      border:0;
      color:var(--muted);
      font-size:22px;
      cursor:pointer;
      line-height:1;
      padding:6px 8px;
      border-radius:10px;
    }
    .d-close:hover{
      background:rgba(255,255,255,.04);
      color:var(--text);
    }

    .d-body{
      padding:20px;
      font-size:13px;
      color:var(--muted);
      line-height:1.65;
      overflow:auto;
    }

    .drawer-section{ margin-bottom:18px; }

    .drawer-label{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:1px;
      font-weight:900;
      opacity:.65;
      margin: 0 0 10px;
    }

    .drawer-link{
      display:block;
      padding:14px;
      border-radius:12px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.03);
      color:var(--text);
      font-weight:800;
      text-decoration:none;
      margin-bottom:10px;
      transition:.15s;
    }

    .drawer-link:hover{
      background:rgba(58,160,255,.14);
      border-color:rgba(58,160,255,.4);
    }

    /* #2: version box */
    .meta-box{
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.22);
      color:var(--muted);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:12px;
      line-height:1.6;
    }

    /* notice box */
    .notice{
      padding:12px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.03);
      color:var(--muted);
      font-size:12px;
      line-height:1.6;
    }
    .notice strong{
      color:var(--text);
      font-weight:900;
    }

    /* ===== Easter egg: 40s cinematic fade to black then back ===== */
body.eegg-fade{
  animation: eeggFadeCycle 40s linear forwards;
}

@keyframes eeggFadeCycle{
  /* start normal */
  0%   { filter: grayscale(0) brightness(1); }

  /* gradually desaturate + dim */
  40%  { filter: grayscale(.75) brightness(.55); }

  /* reach fully black (keep grayscale max) */
  50%  { filter: grayscale(1) brightness(0); }

  /* stay black briefly so it feels intentional */
  55%  { filter: grayscale(1) brightness(0); }

  /* recover */
  100% { filter: grayscale(0) brightness(1); }
}

/* ===== Easter egg overlay (ZAIDI) ===== */
.eegg-overlay{
  position:fixed;
  inset:0;
  z-index:9999;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
  background:rgba(0,0,0,.55);
  backdrop-filter: blur(8px);
  opacity:0;
  transition: opacity .22s ease;
}

.eegg-overlay.show{ opacity:1; }

.eegg-card{
  width:min(560px, 92vw);
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(15,22,32,.88);
  box-shadow: 0 24px 80px rgba(0,0,0,.55);
  overflow:hidden;
  transform: translateY(10px);
  opacity:0;
  transition: transform .22s ease, opacity .22s ease;
}

.eegg-overlay.show .eegg-card{
  transform: translateY(0);
  opacity:1;
}

.eegg-body{
  padding:18px 18px 14px;
  color:#e7eef8;
}

.eegg-title{
  font-weight:900;
  letter-spacing:.4px;
  font-size:12px;
  text-transform:uppercase;
  color:rgba(231,238,248,.85);
  margin:0 0 10px;
}

.eegg-mono{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size:13px;
  line-height:1.65;
  color:rgba(231,238,248,.92);
  margin:0;
  white-space:pre-line;
}

.eegg-photo{
  width:100%;
  height:240px;
  object-fit:cover;
  display:block;
  filter: none;
}

.eegg-fadeout{
  opacity:0 !important;
  pointer-events:none;
}


  </style>
</head>
<body>

  <div class="menu-fab" id="menuFab">
    <div class="menu-label">Menu</div>
    <button class="hamburger" id="drawerToggle" aria-label="Buka menu" aria-expanded="false" type="button">
      <div class="burger" aria-hidden="true">
        <span></span><span></span><span></span>
      </div>
    </button>
  </div>

  <aside class="card">
    <div class="logos">
      <div class="logo"><img src="./assets/icon1.png" alt="JATA"></div>
      <div class="logo"><img src="./assets/icon2.png" alt="MINDEF"></div>
    </div>

    <h1>Sistem Pemantauan Pemeriksaan</h1>
    <div class="subtitle">Sel Teknikal Cawangan Teknik dan Pemeriksaan.</div>

    <div class="divider"></div>

    <p class="desc">
      Portal berpusat untuk pengurusan data, pemantauan pemeriksaan, dan analisis prestasi.
Menu menyediakan akses kepada Borang Permohonan Pemeriksaan dan pautan berkaitan.
Untuk meneruskan, sila klik butang di bawah.

    </p>

    <div class="actions">
      <a href="dashboard.html" class="btn-primary" id="enterBtn"><span>Masuk Portal</span></a>
      <div class="footer">@2026 Sel teknikal CT&P</div>
    </div>

    <div class="status">
      <span class="dot"></span>
      Sistem Dalam Talian
    </div>
  </aside>

  <div class="drawer-backdrop" id="backdrop"></div>

  <div class="drawer" id="rightDrawer" aria-hidden="true">
    <div class="d-head">
      <span class="d-title">Menu & Sumber</span>
      <button class="d-close" id="drawerClose" aria-label="Tutup menu" type="button">&times;</button>
    </div>

    <div class="d-body">

      <div class="drawer-section">
        <div class="drawer-label">Borang Dalam Talian</div>

        <a class="drawer-link"
           href="https://docs.google.com/forms/d/e/1FAIpQLSdHfQWKturVq4XISrKFqgZG6teJxpDAiVcwuC26hoavMBjGLw/viewform"
           target="_blank" rel="noopener">
          Permohonan Pemeriksaan Alat Ganti Kenderaan ATM
        </a>

        <a class="drawer-link"
           href="https://forms.gle/9yxfaEAvEiHfBjTXA"
           target="_blank" rel="noopener">
          Permohonan Mewujudkan Dokumen Peralatan ATM / Penerimaan Peralatan ATM
        </a>

        <a class="drawer-link"
           href="https://docs.google.com/forms/d/e/1FAIpQLSc9qcmCLyHy-t-GIo3cz1k9aoTrzk5F-ComMLORNVfxovIJ3A/viewform?usp=sharing&ouid=116666925478114456158"
           target="_blank" rel="noopener">
          Permohonan Pemeriksaan Penerimaan Akhir (FAT)
        </a>
      </div>

      <div class="drawer-section">
        <div class="drawer-label">Pautan Pantas</div>

        <a class="drawer-link" href="about.html">
          Tentang Kami
        </a>

        <a class="drawer-link"
           href="https://wa.me/qr/QPQSVVZHMP22L1"
           target="_blank" rel="noopener">
          Hubungi Pentadbir
        </a>

        <a class="drawer-link" href="guide.html">
          Garis Panduan
        </a>

        <div class="notice" style="margin-top:10px;">
          <strong>Akses terhad.</strong> Portal ini untuk kegunaan pegawai yang dibenarkan sahaja.
          Aktiviti boleh direkodkan untuk tujuan pematuhan dan audit.
        </div>
      </div>

      <div class="drawer-section">
        <div class="drawer-label">Maklumat Sistem</div>
        <div class="meta-box">
          Versi: 2.1.0<br/>
          Kemas kini terakhir: 26 Dis 2025<br/>
          Persekitaran: Portal Dalaman
        </div>
      </div>

    </div>
  </div>

  <script>
    const drawer = document.getElementById("rightDrawer");
    const backdrop = document.getElementById("backdrop");
    const openBtn = document.getElementById("drawerToggle");
    const closeBtn = document.getElementById("drawerClose");
    const menuFab = document.getElementById("menuFab");
    const enterBtn = document.getElementById("enterBtn");

    function toggle(open){
      drawer.classList.toggle("open", open);
      backdrop.classList.toggle("open", open);
      drawer.setAttribute("aria-hidden", open ? "false" : "true");
      openBtn.classList.toggle("is-open", open);
      openBtn.setAttribute("aria-expanded", open ? "true" : "false");

      if (open) menuFab.classList.remove("hide");
    }

    openBtn.addEventListener("click", () => {
      const isOpen = drawer.classList.contains("open");
      toggle(!isOpen);
    });

    closeBtn.addEventListener("click", () => toggle(false));
    backdrop.addEventListener("click", () => toggle(false));

    document.addEventListener("keydown", e => {
      if (e.key === "Escape") toggle(false);
    });

    // Professional "Opening dashboard..." micro state (Malay)
    enterBtn.addEventListener("click", (e) => {
      e.preventDefault();
      enterBtn.setAttribute("aria-disabled", "true");
      const label = enterBtn.querySelector("span");
      if (label) label.textContent = "Membuka papan pemuka...";
      setTimeout(() => {
        window.location.href = enterBtn.getAttribute("href");
      }, 420);
    });

    // Auto-hide menu on scroll down, show on scroll up
    let lastY = window.scrollY;
    let ticking = false;

    function onScroll(){
      const y = window.scrollY;

      if (drawer.classList.contains("open")) {
        menuFab.classList.remove("hide");
        lastY = y;
        ticking = false;
        return;
      }

      const goingDown = y > lastY;
      const delta = Math.abs(y - lastY);

      if (delta < 6) {
        ticking = false;
        return;
      }

      if (goingDown) menuFab.classList.add("hide");
      else menuFab.classList.remove("hide");

      lastY = y;
      ticking = false;
    }

    window.addEventListener("scroll", () => {
      if (!ticking) {
        ticking = true;
        requestAnimationFrame(onScroll);
      }
    }, { passive:true });

    // ===== Easter egg: sound + grayscale dim fade (no structure changes) =====
(function(){
  const AUDIO_SRC = "./assets/easter-egg.mp3"; // change filename if needed
  let audio = null;
  let audioUnlocked = false;

  function unlockAudioOnce(){
    if (audioUnlocked) return;
    audioUnlocked = true;

    // Create audio on first real user interaction
    audio = new Audio(AUDIO_SRC);
    audio.preload = "auto";
    audio.volume = 0.9;

    // Try a silent play and pause to unlock on some browsers
    audio.play().then(() => {
      audio.pause();
      audio.currentTime = 0;
    }).catch(() => {
      // If it fails, we still keep audio object and will try again on trigger
    });

    document.removeEventListener("pointerdown", unlockAudioOnce, { capture:true });
    document.removeEventListener("keydown", unlockAudioOnce, { capture:true });
  }

  // Unlock sound as early as possible using user gesture
  document.addEventListener("pointerdown", unlockAudioOnce, { capture:true, once:true });
  document.addEventListener("keydown", unlockAudioOnce, { capture:true, once:true });

  function startEasterEgg(){
    // Toggle effect on and off
    const on = !document.body.classList.contains("eegg-fade");
    document.body.classList.toggle("eegg-fade", on);

    // Play or stop audio
    if (on) {
      if (!audio) audio = new Audio(AUDIO_SRC);
      audio.currentTime = 0;

      audio.play().catch(() => {
        // If blocked, user can click once and it will work next time
        // No DOM changes, so we do nothing noisy here
      });
    } else {
      if (audio) {
        audio.pause();
        audio.currentTime = 0;
      }
    }
  }

  // Hook this to your existing easter egg trigger
  // If you already have a Konami trigger, call startEasterEgg() there.
  // For example, if your trigger currently does: toast("Mode Inspektor: Aktif ✔");
  // Add: startEasterEgg();

  // If you want a quick trigger for testing right now:
  // Press Shift + E
  document.addEventListener("keydown", (e) => {
    if (e.shiftKey && (e.key === "E" || e.key === "e")) startEasterEgg();
  });

  // Expose function if you want to call it from elsewhere
  window.__startEasterEgg = startEasterEgg;
})();

    // ===== Easter egg: 40s fade to black then back, re-triggerable =====
(function(){
  const DURATION_MS = 40000;

  function startFadeCycle(){
    // restart animation cleanly
    document.body.classList.remove("eegg-fade");
    void document.body.offsetWidth; // reflow to restart animation
    document.body.classList.add("eegg-fade");

    // remove class after animation so it can be triggered again
    setTimeout(() => {
      document.body.classList.remove("eegg-fade");
    }, DURATION_MS + 50);
  }

  // expose for your easter egg trigger (Konami, secret click, etc.)
  window.__startFadeCycle = startFadeCycle;
})();

// ===== Easter egg: type "ZAIDI" to trigger deletion joke + dev note + photo =====
(function(){
  const TRIGGER = "zaidi";
  const PHOTO_SRC = "./assets/zaidi.jpg"; // change if needed
  const AUTO_DISMISS_MS = 10000;          // 10s after reveal appears
  const STEP_MS = 650;                    // countdown pace
  const PAUSE_MS = 750;                   // pause after 0
  const ELLIPSIS_MS = 450;                // pause after "…"

  let buffer = "";
  let active = false;

  function isTypingIntoField(){
    const el = document.activeElement;
    if (!el) return false;
    const tag = (el.tagName || "").toLowerCase();
    return tag === "input" || tag === "textarea" || el.isContentEditable;
  }

  function safeRemove(node){
    if (!node) return;
    node.classList.add("eegg-fadeout");
    setTimeout(() => node.remove(), 240);
  }

  function runEasterEgg(){
    if (active) return;
    active = true;

    // build overlay (no changes to your existing DOM structure)
    const overlay = document.createElement("div");
    overlay.className = "eegg-overlay";
    overlay.setAttribute("role", "dialog");
    overlay.setAttribute("aria-label", "Developer note");

    const card = document.createElement("div");
    card.className = "eegg-card";

    const body = document.createElement("div");
    body.className = "eegg-body";

    const title = document.createElement("div");
    title.className = "eegg-title";
    title.textContent = "SYSTEM";

    const text = document.createElement("p");
    text.className = "eegg-mono";
    text.textContent = "SYSTEM DELETION";

    body.appendChild(title);
    body.appendChild(text);
    card.appendChild(body);
    overlay.appendChild(card);
    document.body.appendChild(overlay);

    // show
    requestAnimationFrame(() => overlay.classList.add("show"));

    // phase timings
    const countdown = ["5", "4", "3", "2", "1", "0"];
    let idx = 0;

    function showDevNoteAndPhoto(){
      // text
      title.textContent = "DEVELOPER NOTE";
      text.textContent =
        "Developer note:\n" +
        "You can relax.\n" +
        "I don’t delete things lightly.";

      // photo (color, candid)
      const img = document.createElement("img");
      img.className = "eegg-photo";
      img.src = PHOTO_SRC;
      img.alt = "Developer photo";
      img.loading = "eager";

      // put photo under the note, same moment
      card.appendChild(img);

      // auto dismiss after 10s
      setTimeout(() => {
        safeRemove(overlay);
        active = false;
      }, AUTO_DISMISS_MS);
    }

    // countdown sequence
    const t1 = setInterval(() => {
      // switch to single-line mechanical countdown with dot separators
      if (idx === 0) {
        title.textContent = "SYSTEM";
      }
      const left = countdown.slice(idx).join(" · ");
      text.textContent = left;
      idx++;

      if (idx > countdown.length) {
        clearInterval(t1);

        // pause
        setTimeout(() => {
          text.textContent = "…";

          // ellipsis beat
          setTimeout(() => {
            showDevNoteAndPhoto();
          }, ELLIPSIS_MS);

        }, PAUSE_MS);
      }
    }, STEP_MS);

    // allow click to dismiss early (optional but harmless)
    overlay.addEventListener("click", () => {
      clearInterval(t1);
      safeRemove(overlay);
      active = false;
    }, { once:true });
  }

  document.addEventListener("keydown", (e) => {
    if (active) return;
    if (isTypingIntoField()) return;

    const k = e.key;
    if (k.length !== 1) return;

    buffer = (buffer + k.toLowerCase()).slice(-TRIGGER.length);
    if (buffer === TRIGGER) {
      buffer = "";
      runEasterEgg();
    }
  });
})();

  </script>
</body>
</html>
